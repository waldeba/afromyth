{{ define "main" }}
<main>
  <header>
    <h1>{{ .Title }}</h1>
    {{ if .Content }}
    <div class="content">
      {{ .Content }}
    </div>
    {{ end }}
  </header>

  {{ if .Pages }}
  <section class="products-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 2rem;">
    {{ range .Pages }}
    <article class="product-card" style="border: 1px solid var(--border); border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
      {{ if .Params.image }}
      <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}" style="width: 100%; height: 200px; object-fit: cover;">
      {{ end }}
      <div style="padding: 1.5rem;">
        <h2 style="font-size: 1.2rem; margin-bottom: 0.5rem;">
          <a href="{{ .Permalink }}" style="color: var(--color-dark); text-decoration: none;">{{ .Title }}</a>
        </h2>
        {{ if .Summary }}
        <p style="color: #666; font-size: 0.9rem; line-height: 1.5;">{{ .Summary }}</p>
        {{ end }}
        {{ if .Params.price }}
        <p style="font-weight: bold; color: #4a4a4a; margin-top: 1rem;">{{ .Params.price }}</p>
        {{ end }}
      </div>
    </article>
    {{ end }}
  </section>
  {{ else }}
  <p style="text-align: center; color: #666; margin-top: 2rem;">No products found in this category.</p>
  {{ end }}
</main>
{{ end }}
